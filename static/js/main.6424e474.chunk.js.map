{"version":3,"sources":["redux/dialogs-reducer.js","Components/Users/Users.module.css","Components/common/Pagination/Pagination.module.css","asses/img/no-ava.png","Components/common/Preloader/Preloader.module.css","asses/img/no-prfl-photo.jpg","Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css","asses/img/logo.png","hoc/withAuthRedirect.js","Components/Navbar/Navbar.module.css","utils/validators/validators.js","Components/Navbar/Navbar.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Settings/Settings.jsx","Components/common/Pagination/Pagination.jsx","Components/Users/User/User.jsx","Components/Users/Users.jsx","api/api.js","redux/users-reducer.js","Components/common/Preloader/Preloader.jsx","Components/Users/UsersContainer.jsx","Components/Profile/ProfileInfo/ProfileStatus.jsx","Components/Profile/ProfileInfo/ProfileStatusHooks.jsx","Components/Profile/ProfileInfo/Profileinfo.jsx","redux/profile-reducer.js","Components/Profile/MyPosts/Post/Post.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfileContainer.jsx","Components/Header/Header.jsx","redux/auth-reducer.js","Components/Header/HeaderContainer.jsx","Components/common/FormsControls/FormsContorls.js","Components/Login/Login.jsx","redux/app-reducer.js","App.js","hoc/withSuspense.js","redux/redux-store.js","index.js","Components/Users/User/User.module.css","Components/common/FormsControls/FormsContorls.module.css","Components/Profile/ProfileInfo/Profileinfo.module.css","Components/Header/Header.module.css"],"names":["SEND_MESSAGE","initialState","messageData","id","name","imgURL","message","sendMessage","currentMessage","type","dialogsReducer","state","action","map","m","module","exports","mapStateToPropsForRedirect","isAuth","authData","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","length","Navbar","className","n","nav","item","activeClassName","active","News","Music","Settings","Pagination","pageSize","totalCount","currentPage","onPageChanged","buttonsArray","totalPagesAmount","Math","ceil","end","i","push","s","activated","onClick","buttonCreator","User","handlerToggleFollow","followedUsersId","user","userCont","avaAndFollow","ava","src","photos","small","noPhoto","disabled","some","followed","nameAndStatus","status","location","Users","users","key","allPages","instance","axios","baseURL","withCredentials","headers","usersAPI","get","then","response","data","userId","post","delete","profileAPI","put","authAPI","email","password","rememberMe","TOGGLE_FOLLOW","SET_USERS","isFetching","toggleFollow","setCurrentPage","setUsers","setTotalUsersCount","toggleIsFetching","followingInProgress","isFollowing","userReducer","stateCopy","u","filter","Preloader","ldsRipple","UsersContainer","pageNumber","getUsers","followStatus","unfollow","follow","compose","usersPage","dispatch","a","items","resultCode","console","error","ProfileStatusHooks","useState","setStatus","editMode","setEditMode","useEffect","autoFocus","onBlur","updateStatus","value","onChange","e","target","onStatusChange","onDoubleClick","ProfileInfo","profile","photo","large","userInfo","profileImg","statusAndName","userName","fullName","ADD_POST","SET_STATUS","postData","likeCount","setUserProfile","profileReducer","postMessage","Post","likeCounter","MyPostsFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","MyPosts","postsElement","profilePage","p","addPost","posts","MyPostsContainer","Profile","ProfileContainer","idFormUrl","match","params","myId","getUsersProfile","getStatus","history","withRouter","Header","header","alt","logo","logBut","login","logout","setUserData","getAuth","authReducer","HeaderContainer","required","undefined","Input","input","meta","hasError","touched","styles","formControl","maxLength40","LoginReduxForm","validate","placeholder","c","style","serverError","log","messages","stopSubmit","_error","formData","initialized","appReducer","DialogsContainer","lazy","App","initializingProcess","render","path","Suspense","fallback","appData","reducers","combineReducers","dialogs","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6424e474.chunk.js","sourcesContent":["const SEND_MESSAGE = 'my-app/dialogs/SEND-MESSAGE';\r\n\r\nlet initialState = { //dialogs\r\n    messageData: [\r\n        {\r\n            id: 1,\r\n            name: 'Chpekun',\r\n            imgURL: 'https://sun9-60.userapi.com/c841621/v841621742/41562/b_hg5W14Mio.jpg',\r\n            message: ['Kak zhe hochetsya...']\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Lyaseg',\r\n            imgURL: 'https://sun9-60.userapi.com/c856128/v856128830/609c0/Ma8ekfEy168.jpg',\r\n            message: ['zarabativayu 300k sec']\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Pukicj',\r\n            imgURL: 'https://sun9-6.userapi.com/c631426/v631426535/173b/KFLNPAcI3K8.jpg',\r\n            message: ['*/me raskrivayu fantik*']\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Tyanochka',\r\n            imgURL: 'https://sun9-21.userapi.com/c627431/v627431683/350a7/6YwWDNXJZio.jpg',\r\n            message: ['pokazhi chlen']\r\n        }\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            return  {\r\n                ...state,\r\n                messageData: state.messageData.map(m => {\r\n                    if (m.id === action.id) {\r\n                        return {...m, message: [...m.message, action.currentMessage]};\r\n                    } else {\r\n                        return {...m, message: [...m.message]};\r\n                    }\r\n                })\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (id, currentMessage) => ({\r\n    type: SEND_MESSAGE,\r\n    id,\r\n    currentMessage\r\n})\r\n\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allPages\":\"Users_allPages__2R9cv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activated\":\"Pagination_activated__ieASe\"};","module.exports = __webpack_public_path__ + \"static/media/no-ava.1897f975.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsRipple\":\"Preloader_ldsRipple__2C_Jp\"};","module.exports = __webpack_public_path__ + \"static/media/no-prfl-photo.2c4fec54.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3rYAx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2Vl0a\"};","module.exports = __webpack_public_path__ + \"static/media/logo.4e8f2769.png\";","import React from \"react\";\r\nimport {Redirect} from \"react-router\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.authData.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3eHMz\",\"item\":\"Navbar_item__3FP1D\",\"active\":\"Navbar_active__3cvAv\"};","export const required = (value) => {\r\n    return value ? undefined : 'Field is required';\r\n}\r\n\r\nexport const maxLength = (length) => {\r\n    return (value) => {\r\n        return value.length > length ? `Max length is ${length}` : undefined;\r\n    }\r\n}","import React from \"react\";\r\nimport n from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={n.nav}>\r\n            <div className={n.item}>\r\n                <NavLink to='/profile' activeClassName={n.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={n.item}>\r\n                <NavLink to='/dialogs' activeClassName={n.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={n.item}>\r\n                <NavLink to='/news' activeClassName={n.active}>News</NavLink>\r\n            </div>\r\n            <div className={n.item}>\r\n                <NavLink to='/music' activeClassName={n.active}>Music</NavLink>\r\n            </div>\r\n            <div className={n.item}>\r\n                <NavLink to='/settings' activeClassName={n.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={n.item}>\r\n                <NavLink to='/users' activeClassName={n.active}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>News</div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>Music</div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>Settings</div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport s from \"./Pagination.module.css\";\r\n\r\n\r\nconst Pagination = ({pageSize, totalCount, currentPage, onPageChanged}) => {\r\n\r\n\r\n    const buttonCreator = () => {\r\n        const pagePortion = 3; // + 2\r\n        let buttonsArray = [];\r\n        const totalPagesAmount = Math.ceil(totalCount / pageSize);\r\n        let end = ((currentPage + pagePortion) >= totalPagesAmount) ? totalPagesAmount : currentPage + pagePortion;\r\n        const start = currentPage === 1 ? end++ && 1\r\n            : (currentPage - 1 >= totalPagesAmount - pagePortion ? totalPagesAmount - pagePortion - 1 : currentPage - 1);\r\n        for (let i = start; i <= end; i++) {\r\n\r\n            buttonsArray.push(<button className={i === currentPage ? s.activated : ''}\r\n                                      onClick={() => onPageChanged(i)}>{i}</button>)\r\n        }\r\n\r\n        return [\r\n            <button onClick={() => onPageChanged(1)}>{1}</button>,\r\n            '...',\r\n            ...buttonsArray,\r\n            '...',\r\n            <button onClick={() => onPageChanged(totalPagesAmount)}>{totalPagesAmount}</button>,\r\n        ];\r\n    }\r\n\r\n    return (buttonCreator());\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport s from './User.module.css';\r\nimport noPhoto from \"../../../asses/img/no-ava.png\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst User = ({handlerToggleFollow,followedUsersId,user}) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                <div className={s.userCont}>\r\n                    <div className={s.avaAndFollow}>\r\n                        <div>\r\n                            <NavLink to={`/profile/${user.id}`}>\r\n                                <img className={s.ava} src={user.photos.small ? user.photos.small : noPhoto}/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            <button\r\n                                disabled={followedUsersId.some(id => id === user.id)}\r\n                                onClick={() => handlerToggleFollow(user.id, user.followed)}>\r\n                                {user.followed ? \"FOLLOW\" : \"UNFOLLOW\"}\r\n                            </button>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className={s.nameAndStatus}>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </div>\r\n                    <div className={s.location}>\r\n                        <div>{\"user.location.city\"}</div>\r\n                        <div>{\"user.location.country\"}</div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default User;","import React from \"react\";\r\nimport s from './Users.module.css';\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\nimport User from \"./User/User\";\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            {props.users.map((user) => {\r\n                return <User key={user.id}\r\n                             handlerToggleFollow={props.handlerToggleFollow}\r\n                             user={user}\r\n                             followedUsersId={props.followedUsersId}/>\r\n            })}\r\n            <div className={s.allPages}>\r\n                <Pagination\r\n                    pageSize={props.pageSize}\r\n                    totalCount={props.totalCount}\r\n                    currentPage={props.currentPage}\r\n                    onPageChanged={props.onPageChanged}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Users;","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'dbf5504c-f2e0-4dbe-bf14-76c4460daab1'\r\n    }\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsersAPI(pageSize, currentPage) {\r\n        return instance.get(`users?count=${pageSize}&page=${currentPage}`)\r\n            .then(response => response.data)\r\n    },\r\n    postFollow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    deleteFollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getUsersProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    getStatusAPI(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    updateStatusAPI(status) {\r\n        return instance.put('profile/status',{status: status});\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuthAPI() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post('auth/login',{email, password, rememberMe})\r\n            .then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\n","import {usersAPI} from \"../api/api\";\r\n\r\nconst TOGGLE_FOLLOW = 'my-app/users/TOGGLE_FOLLOW';\r\n/*const UNFOLLOW = 'UNFOLLOW';*/\r\nconst SET_USERS = 'my-app/users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'my-app/users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'my-app/users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'my-app/users/TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'my-app/users/FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [\r\n        /*{\r\n            id: 1,\r\n            follow: true,\r\n            name: 'Tupaya Shkura',\r\n            status: 'ya ebu konya',\r\n            location: {city: 'Kiev', country: 'Ukraine'},\r\n            avaURL:'https://lh3.googleusercontent.com/proxy/tTg8M6qD3zJynht3OrnoTphaHUmFvjMSNpxZnMXI2iBSxAboyd4puijhkNk0PPbbuG2pZpsrmR1fVGOHOxgmDJb1l6CnR0BVN6-ZB7JlvEWrZKZIesTx_QTzOEs'\r\n        },\r\n        {\r\n            id: 2,\r\n            follow: false,\r\n            name: 'Penis Detrov',\r\n            status: 'hochu pitsi',\r\n            location: {city: 'Samara', country: 'Russia'},\r\n            avaURL:'data:image/jpeg;base64,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'\r\n        },\r\n        {\r\n            id: 3,\r\n            follow: true,\r\n            name: 'Yura Hoy',\r\n            status: 'sredniy chlen',\r\n            location: {city: 'Piter', country: 'Zhopa'},\r\n            avaURL:'https://24smi.org/public/media/celebrity/2018/05/03/j9kbdbff2h9x-iurii-khoi.jpg'\r\n        }*/\r\n    ],\r\n    totalCount: 0, // Amount of all registred users\r\n    pageSize: 5, // Amount of users on 1 page\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followedUsersId: [] // On which users follow/unfollow in progress\r\n}\r\n\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case TOGGLE_FOLLOW: {\r\n            let stateCopy = {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (action.userId === u.id) {\r\n                        return {...u, followed: !u.followed};\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n\r\n            return stateCopy;\r\n        }\r\n        /*  case UNFOLLOW: {\r\n              let stateCopy = {\r\n                  ...state,\r\n                  users: state.users.map(u => {\r\n                      if (action.userId === u.id) {\r\n                          return {...u, followed: false};\r\n                      }\r\n                      return u;\r\n                  })\r\n              };\r\n              return stateCopy;\r\n          }*/\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n\r\n            return {\r\n                ...state,\r\n                followedUsersId: action.isFollowing\r\n                    ? [...state.followedUsersId, action.userId]\r\n                    : [...state.followedUsersId.filter(id => action.userId !== id)]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const toggleFollow = (userId) => ({\r\n    type: TOGGLE_FOLLOW,\r\n    userId\r\n})\r\n\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage\r\n})\r\n\r\n/*export const unfollowAC = (userId) => ({\r\n    type: UNFOLLOW,\r\n    userId\r\n})*/\r\n\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS,\r\n    users\r\n})\r\n\r\nexport const setTotalUsersCount = (totalCount) => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    totalCount\r\n})\r\n\r\nexport const toggleIsFetching = (isFetching) => ({ // Indicator for Preloader\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n})\r\n\r\nexport const followingInProgress = (isFollowing, userId) => ({ // For disabling FOLLOW button\r\n    type: FOLLOWING_IN_PROGRESS,\r\n    isFollowing,\r\n    userId\r\n})\r\n\r\nexport const getUsers = (pageSize, currentPage = 1) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true)); // Enable <Preloader/>\r\n\r\n    let data = await usersAPI.getUsersAPI(pageSize, currentPage);\r\n\r\n    dispatch(toggleIsFetching(false)); // Disable <Preloader/>\r\n    dispatch(setUsers(data.items)); // Add users array in state\r\n    dispatch(setTotalUsersCount(data.totalCount)); // Change amount of all registred users\r\n    dispatch(setCurrentPage(currentPage)); // Change number of current page\r\n}\r\n\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    let data = await usersAPI.deleteFollow(userId);\r\n\r\n    if (data.resultCode !== 0) {\r\n        console.error('BLYAD FOLLOW SLOMALSYA');\r\n        return;\r\n    }\r\n    dispatch(toggleFollow(userId));\r\n    dispatch(followingInProgress(false, userId));\r\n\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return (dispatch) => {\r\n        usersAPI.postFollow(userId)\r\n            .then(data => {\r\n                if (data.resultCode !== 0) {\r\n                    console.error('BLYAD FOLLOW SLOMALSYA');\r\n                    return;\r\n                }\r\n                dispatch(toggleFollow(userId));\r\n                dispatch(followingInProgress(false, userId));\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport default userReducer;","import React from \"react\";\r\nimport s from \"./Preloader.module.css\"\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div className={s.ldsRipple}>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Preloader;","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    setCurrentPage,\r\n    setUsers,\r\n    /*, unfollowAC*/\r\n    setTotalUsersCount, toggleIsFetching, followingInProgress, getUsers, unfollow, follow\r\n} from \"../../redux/users-reducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n/*import {withAuthRedirect} from \"../../hoc/withAuthRedirect\";*/\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pageSize, this.props.currentPage);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(this.props.pageSize, pageNumber);\r\n    }\r\n\r\n   handlerToggleFollow = (userId, followStatus) => {\r\n        this.props.followingInProgress(true, userId);\r\n        if (followStatus) {\r\n            this.props.unfollow(userId);\r\n        } else {\r\n            this.props.follow(userId);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (<>\r\n            {this.props.isFetching ? <Preloader/> :\r\n                <Users\r\n                    handlerToggleFollow={this.handlerToggleFollow}\r\n                    users={this.props.users}\r\n                    currentPage={this.props.currentPage}\r\n                    totalCount={this.props.totalCount}\r\n                    onPageChanged={this.onPageChanged}\r\n                    pageSize={this.props.pageSize}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    followedUsersId={this.props.followedUsersId}\r\n                    follow = {this.props.follow}\r\n                    unfollow = {this.props.unfollow}\r\n                />}\r\n        </>)\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        currentPage: state.usersPage.currentPage,\r\n        totalCount: state.usersPage.totalCount,\r\n\r\n        isFetching: state.usersPage.isFetching,\r\n        followedUsersId: state.usersPage.followedUsersId\r\n    }\r\n}\r\n\r\n/*let mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        toggleFollow: (userId) => {\r\n            dispatch(toggleFollowAC(userId));\r\n        },\r\n        /!*  unfollow: (userId) => {\r\n              dispatch(unfollowAC(userId));\r\n          },*!/\r\n        setUsers: (users) => {\r\n            dispatch(setUsersAC(users));\r\n        },\r\n        setCurrentPage: (currentPage) => {\r\n            dispatch(setCurrentPageAC(currentPage));\r\n        },\r\n        setTotalUsersCount: (totalCount) => {\r\n            dispatch(setTotalUsersCountAC(totalCount));\r\n        },\r\n        toggleIsFetching: (isFetching) => {\r\n            dispatch(toggleIsFetchingAC(isFetching));\r\n        }\r\n\r\n    }\r\n}*/\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setUsers,\r\n        setCurrentPage,\r\n        setTotalUsersCount,\r\n        toggleIsFetching,\r\n        followingInProgress,\r\n        getUsers,\r\n        follow,\r\n        unfollow\r\n    })\r\n)(UsersContainer);\r\n","import React from \"react\";\r\n\r\nexport default class ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(this.props.status !== prevProps.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    };\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    };\r\n\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                    this.state.editMode\r\n                        ? <input\r\n                            autoFocus={true}\r\n                            onBlur={this.deactivateEditMode}\r\n                            value={this.state.status}\r\n                            onChange={(e) => this.onStatusChange(e)}/>\r\n                        : <span\r\n                            onDoubleClick={this.activateEditMode}>\r\n                            {this.props.status}\r\n                          </span>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n    let [status, setStatus] = useState(props.status);\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.target.value);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                editMode\r\n                    ? <input\r\n                        autoFocus={true}\r\n                        onBlur={deactivateEditMode}\r\n                        value={status}\r\n                        onChange={(e) => onStatusChange(e)}/>\r\n                    : <span\r\n                        onDoubleClick={activateEditMode}>\r\n                            {status || '(Empty)'}\r\n                          </span>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default ProfileStatusHooks;","import React from \"react\";\r\nimport s from './Profileinfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatus from \"./ProfileStatus\"\r\nimport noPhoto from \"../../../asses/img/no-prfl-photo.jpg\"\r\nimport ProfileStatusHooks from \"./ProfileStatusHooks\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.profile) {\r\n        return (<Preloader/>);\r\n    }\r\n    const photo = props.profile.photos.large;\r\n    return (\r\n        <div>\r\n            {/*<div>\r\n                <img className={s.profileImg} src='https://starpri.ru/wp-content/uploads/2019/04/maxresdefault.jpg'/>\r\n            </div>*/}\r\n            <div className={s.userInfo}>\r\n                <img className={s.profileImg} src={photo ? photo : noPhoto}/>\r\n                <div className={s.statusAndName}>\r\n                    <div className={s.userName}>{props.profile.fullName}</div>\r\n                    <ProfileStatusHooks status={props.status} updateStatus={props.updateStatus}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default ProfileInfo;\r\n\r\n\r\n","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'my-app/profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'my-app/profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'my-app/profile/SET_STATUS';\r\n\r\nlet initialState = { //profilePage\r\n    postData:\r\n        [\r\n            {id: 1, message: 'Zdarova, Kisa, kak dela?', likeCount: '15'},\r\n            {id: 2, message: 'Hto? Ya? A da? Nu da', likeCount: '20'}\r\n        ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            /* let stateCopy = {...state};\r\n             stateCopy.postData = [...state.postData];\r\n             let currentPost = {\r\n                 id: 3,\r\n                 message: action.postMessage,\r\n                 likeCount: 0\r\n             };\r\n             stateCopy.postData.push(currentPost);*/\r\n            return {\r\n                ...state,\r\n                postData: [...state.postData, {\r\n                    id: 3,\r\n                    message: action.postMessage,\r\n                    likeCount: 0\r\n                }]\r\n            }\r\n\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile};\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPost = (postMessage) => ({\r\n    type: ADD_POST,\r\n    postMessage\r\n})\r\n\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n})\r\n\r\nexport const getUsersProfile = (userId) => {\r\n    return (dispatch) => {\r\n        profileAPI.getUsersProfile(userId).then(data => {\r\n            dispatch(setUserProfile(data));\r\n        })\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS,\r\n    status\r\n})\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getStatusAPI(userId);\r\n    dispatch(setStatus(data));\r\n\r\n}\r\n\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatusAPI(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    } else {\r\n        console.error('BLYAD UPDATE STATUS SLOMALSYA');\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default profileReducer;","import React from \"react\";\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img\r\n                src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRg0-v4ALmUjHaTQIYXO3lhI1FQ9TIkpt8WW-9GY05Cc5XxbWCx&usqp=CAU\"/>\r\n            {props.message}\r\n            <div>\r\n                <span>LIKE! {props.likeCounter}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\n\r\nconst MyPostsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={'textarea'} name={'postMessage'}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n                <button>Remove</button>\r\n            </div>\r\n        </form>);\r\n}\r\n\r\nconst MyPostsFormRedux = reduxForm({form: \"myPosts\"})(MyPostsForm);\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    const postData = props.profilePage.postData;\r\n    const postsElement = postData.map(p => (<Post key={p.id} message={p.message} likeCounter={p.likeCount}/>));\r\n\r\n    const addPostHandler = (value) => {\r\n        props.addPost(value.postMessage);\r\n    }\r\n    return (\r\n        <div>\r\n            My posts\r\n            <MyPostsFormRedux onSubmit={addPostHandler}/>\r\n            <div className={s.posts}>\r\n                {postsElement}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPost} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n};\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost})(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/Profileinfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div /*className={s.content}*/>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {getStatus, getUsersProfile, setUserProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect, withRouter} from \"react-router\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() { /*My Id 7628*/\r\n\r\n        const idFormUrl = this.props.match.params.userId;\r\n        this.userId = idFormUrl ? idFormUrl : this.props.myId; // Id from URL\r\n        if (this.userId) {\r\n            this.props.getUsersProfile(this.userId);\r\n            this.props.getStatus(this.userId); // Receiving status for user by his id\r\n        } else {\r\n            this.props.history.push(\"/login\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props}/>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    myId: state.authData.id\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            setUserProfile, getUsersProfile,\r\n            getStatus, updateStatus\r\n        }),\r\n    withRouter/*,\r\n    withAuthRedirect*/\r\n)(ProfileContainer)","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport logo from \"../../asses/img/logo.png\"\r\n\r\nconst Header = (props) => {\r\n    const loginLogout = () => {\r\n        if (props.login) {\r\n            return (\r\n                <>\r\n                    <div onClick={props.logout}>\r\n                        LOGOUT\r\n                    </div>\r\n                    <div>{props.login}</div>\r\n                </>\r\n            )\r\n        }\r\n        return (<NavLink to='/login'>LOGIN</NavLink>)\r\n    }\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <img alt={'Loading...'} src={logo}/>\r\n\r\n            <div className={s.logBut}>\r\n                {loginLogout()}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'my-app/auth/SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserData = (id, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {id, email, login, isAuth}\r\n})\r\n\r\nexport const getAuth = () => async (dispatch) => {\r\n    let data = await authAPI.getAuthAPI();\r\n    if (data.resultCode === 0) {\r\n        const {id, email, login} = data.data;\r\n        dispatch(setUserData(id, email, login, true));\r\n    } else {\r\n        dispatch(setUserData(null, null, null, false))\r\n        console.error('BLYAD AUTH SLOMALSYA');\r\n    }\r\n}\r\n\r\n\r\nexport const login = (email, password, rememberMe = false) => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe);\r\n    if (data.resultCode === 0) {\r\n        dispatch(getAuth());\r\n    } else {\r\n        console.log(data.messages[0]);\r\n        dispatch(stopSubmit('login', {_error: data.messages[0]}));\r\n        console.error('Cannot get response from API for LOGIN');\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let data = await authAPI.logout();\r\n    if (data.resultCode === 0) {\r\n        dispatch(getAuth());\r\n    } else {\r\n        console.error('Cannot get response from API for LOGOUT');\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {getAuth, logout, setUserData} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n  /*  componentDidMount() {\r\n        this.props.getAuth();\r\n    }\r\n*/\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    login: state.authData.login,\r\n    isAuth: state.authData.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {setUserData, getAuth, logout})(HeaderContainer);","import React from \"react\";\r\nimport styles from \"./FormsContorls.module.css\"\r\n\r\n\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.error && meta.touched;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError && styles.error)}>\r\n            <input  {...input} {...props} />\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from \"react\";\r\nimport {reduxForm, Field} from \"redux-form\";\r\nimport {maxLength, required} from \"../../utils/validators/validators\";\r\nimport {Input} from \"../common/FormsControls/FormsContorls\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router\";\r\nimport style from \"../common/FormsControls/FormsContorls.module.css\";\r\n\r\n\r\nconst maxLength40 = maxLength(40);\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field validate={[required,maxLength40]} name={'email'} placeholder={'Login'} c component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field type={'password'} validate={[required,maxLength40]} name={'password'} placeholder={'Password'} component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field name={'rememberMe'} type={'checkbox'} component={'input'}/>Remember me\r\n            </div>\r\n            {props.error && <div className={style.serverError}>\r\n                {props.error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if(props.isAuth === true) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        isAuth:state.authData.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{login})(Login);","import {getAuth} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'my-app/app/INITIALIZED_SUCCESS';\r\n\r\nlet initialState = { //appData\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            let stateCopy =  {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n            return stateCopy;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({\r\n    type: INITIALIZED_SUCCESS\r\n})\r\n\r\nexport const initializingProcess = () => {\r\n    return  (dispatch) => {\r\n     dispatch(getAuth());\r\n     dispatch(initializedSuccess());\r\n    }\r\n}\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./Components/Navbar/Navbar\";\r\nimport {BrowserRouter, Route} from \"react-router-dom\";\r\nimport News from \"./Components/News/News\";\r\nimport Music from \"./Components/Music/Music\";\r\nimport Settings from \"./Components/Settings/Settings\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport Login from \"./Components/Login/Login\";\r\nimport {initializingProcess} from \"./redux/app-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"./Components/common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n//import DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./Components/Dialogs/DialogsContainer\"));\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializingProcess();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <BrowserRouter>\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <Navbar/>\r\n                    <div className='app-wrapper-content'>\r\n                        <Route render={() =>\r\n                            <ProfileContainer/>} path='/profile/:userId?'/>\r\n                        <Route render={withSuspense(DialogsContainer)} path='/dialogs'/>\r\n                        <Route render={News} path='/news'/>\r\n                        <Route render={Music} path='/music'/>\r\n                        <Route render={Settings} path='/settings'/>\r\n                        <Route render={() =>\r\n                            <UsersContainer/>} path='/users'/>\r\n                        <Route render={() =>\r\n                            <Login/>} path='/login'/>\r\n                    </div>\r\n                </div>\r\n            </BrowserRouter>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (state) => ({\r\n    initialized: state.appData.initialized\r\n})\r\n\r\nexport default compose(\r\n    connect(mapDispatchToProps, {initializingProcess})\r\n)(App);","import React from \"react\";\r\nimport Preloader from \"../Components/common/Preloader/Preloader\";\r\n\r\n\r\n/*export const withSuspense = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            return <React.Suspense fallback={<Preloader/>}>\r\n                <Component {...this.props}/>\r\n            </React.Suspense>\r\n        }\r\n    }\r\n    return RedirectComponent;\r\n}*/\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}\r\n\r\n\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport userReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    dialogs: dialogsReducer ,\r\n    profilePage: profileReducer,\r\n    usersPage: userReducer,\r\n    authData: authReducer,\r\n    form: formReducer,\r\n    appData: appReducer\r\n})\r\n\r\n/*let store = createStore(reducers, applyMiddleware(thunkMiddleware));*/\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n//window.store = store;\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from \"./App\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ava\":\"User_ava__PrVOE\",\"nameAndStatus\":\"User_nameAndStatus__3guBE\",\"avaAndFollow\":\"User_avaAndFollow__DqU7b\",\"userCont\":\"User_userCont__3hm4v\",\"location\":\"User_location__2kUVl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsContorls_formControl__qgcm5\",\"error\":\"FormsContorls_error__uNrNI\",\"serverError\":\"FormsContorls_serverError__QysQg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileImg\":\"Profileinfo_profileImg__3AICu\",\"userName\":\"Profileinfo_userName__2Wlz5\",\"userInfo\":\"Profileinfo_userInfo__z7orB\",\"statusAndName\":\"Profileinfo_statusAndName__3GG_n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2VqTr\",\"logBut\":\"Header_logBut__2c-G1\"};"],"sourceRoot":""}